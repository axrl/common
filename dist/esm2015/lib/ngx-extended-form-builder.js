import { FormGroup, FormArray, FormControl } from "@angular/forms";
import { Observable } from "rxjs";
;
function makeFormGroup(source, keysValidator, asyncKeysValidator, internal = false) {
    const keys = source instanceof FormControl || source instanceof FormGroup || source instanceof FormArray ?
        Object.keys(source.value) :
        Object.keys(source);
    return keys.reduce((accumulator, key) => {
        if (!(source[key] instanceof Observable)) {
            accumulator.addControl(key, !!source[key] && typeof source[key] == 'object' && !(source[key] instanceof Date) ?
                source[key] instanceof FormControl || source[key] instanceof FormGroup || source[key] instanceof FormArray ?
                    source[key] :
                    makeForm(source[key], keysValidator, asyncKeysValidator, true) :
                new FormControl({
                    disabled: (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has(key)) && 'disabled' in keysValidator.get(key) ? keysValidator.get(key).disabled : false,
                    value: !!source[key] && typeof source[key] == 'string' && (source[key].includes('0001-01-01') || source[key].includes('1970-01-01')) ? null : source[key]
                }, (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has(key)) ? keysValidator.get(key) : null, (asyncKeysValidator === null || asyncKeysValidator === void 0 ? void 0 : asyncKeysValidator.has(key)) ? asyncKeysValidator.get(key) : null));
        }
        ;
        return accumulator;
    }, new FormGroup({}, (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has('mainFormValidators')) && !internal ?
        keysValidator.get('mainFormValidators') :
        null, (asyncKeysValidator === null || asyncKeysValidator === void 0 ? void 0 : asyncKeysValidator.has('mainFormValidators')) && !internal ?
        asyncKeysValidator.get('mainFormValidators') :
        null));
}
export function makeForm(source, keysValidator, asyncKeysValidator, internal = false) {
    const form = !!source && (typeof source === 'object' || typeof source === 'function') ?
        source instanceof Array ?
            new FormArray(source.map(item => makeForm(item, keysValidator, asyncKeysValidator, true)), (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has('mainFormValidators')) && !internal ?
                keysValidator.get('mainFormValidators') :
                null, (asyncKeysValidator === null || asyncKeysValidator === void 0 ? void 0 : asyncKeysValidator.has('mainFormValidators')) && !internal ?
                asyncKeysValidator.get('mainFormValidators') :
                null) :
            makeFormGroup(source, keysValidator, asyncKeysValidator, internal) :
        new FormControl({
            disabled: (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has('mainFormValidators')) && 'disabled' in (keysValidator.get('mainFormValidators')) ?
                keysValidator.get('mainFormValidators').disabled :
                false,
            value: source
        }, (keysValidator === null || keysValidator === void 0 ? void 0 : keysValidator.has('mainFormValidators')) && !internal ?
            keysValidator.get('mainFormValidators') :
            null, (asyncKeysValidator === null || asyncKeysValidator === void 0 ? void 0 : asyncKeysValidator.has('mainFormValidators')) && !internal ?
            asyncKeysValidator.get('mainFormValidators') :
            null);
    return form;
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWV4dGVuZGVkLWZvcm0tYnVpbGRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1leHRlbmRlZC1mb3JtLWJ1aWxkZXIvc3JjL2xpYi9uZ3gtZXh0ZW5kZWQtZm9ybS1idWlsZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBeUQsTUFBTSxnQkFBZ0IsQ0FBQztBQUMxSCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBSWpDLENBQUM7QUFFRixTQUFTLGFBQWEsQ0FDcEIsTUFBVyxFQUNYLGFBQTBFLEVBQzFFLGtCQUEyRCxFQUMzRCxXQUFvQixLQUFLO0lBRXpCLE1BQU0sSUFBSSxHQUFHLE1BQU0sWUFBWSxXQUFXLElBQUksTUFBTSxZQUFZLFNBQVMsSUFBSSxNQUFNLFlBQVksU0FBUyxDQUFDLENBQUM7UUFDeEcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FDaEIsQ0FBQyxXQUFzQixFQUFFLEdBQWlCLEVBQUUsRUFBRTtRQUM1QyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksVUFBVSxDQUFDLEVBQUU7WUFDeEMsV0FBVyxDQUFDLFVBQVUsQ0FDcEIsR0FBRyxFQUNILENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDakYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLFdBQVcsSUFBSSxNQUFNLENBQUMsR0FBRyxD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cCwgRm9ybUFycmF5LCBGb3JtQ29udHJvbCwgVmFsaWRhdG9yRm4sIEFzeW5jVmFsaWRhdG9yRm4sIEFic3RyYWN0Q29udHJvbE9wdGlvbnMgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xuXG5pbnRlcmZhY2UgRXh0ZW5kZWRDb250cm9sT3B0aW9ucyBleHRlbmRzIEFic3RyYWN0Q29udHJvbE9wdGlvbnMge1xuICBkaXNhYmxlZD86IGJvb2xlYW4sXG59O1xuXG5mdW5jdGlvbiBtYWtlRm9ybUdyb3VwKFxuICBzb3VyY2U6IGFueSxcbiAga2V5c1ZhbGlkYXRvcj86IE1hcDxzdHJpbmcsIFZhbGlkYXRvckZuW10gfCBFeHRlbmRlZENvbnRyb2xPcHRpb25zIHwgbnVsbD4sXG4gIGFzeW5jS2V5c1ZhbGlkYXRvcj86IE1hcDxzdHJpbmcsIEFzeW5jVmFsaWRhdG9yRm5bXSB8IG51bGw+LFxuICBpbnRlcm5hbDogYm9vbGVhbiA9IGZhbHNlXG4pOiBGb3JtR3JvdXAge1xuICBjb25zdCBrZXlzID0gc291cmNlIGluc3RhbmNlb2YgRm9ybUNvbnRyb2wgfHwgc291cmNlIGluc3RhbmNlb2YgRm9ybUdyb3VwIHx8IHNvdXJjZSBpbnN0YW5jZW9mIEZvcm1BcnJheSA/XG4gICAgT2JqZWN0LmtleXMoc291cmNlLnZhbHVlKSA6XG4gICAgT2JqZWN0LmtleXMoc291cmNlKTtcbiAgcmV0dXJuIGtleXMucmVkdWNlKFxuICAgIChhY2N1bXVsYXRvcjogRm9ybUdyb3VwLCBrZXk6IHN0cmluZyB8IGFueSkgPT4ge1xuICAgICAgaWYgKCEoc291cmNlW2tleV0gaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSkge1xuICAgICAgICBhY2N1bXVsYXRvci5hZGRDb250cm9sKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICAhIXNvdXJjZVtrZXldICYmIHR5cGVvZiBzb3VyY2Vba2V5XSA9PSAnb2JqZWN0JyAmJiAhKHNvdXJjZVtrZXldIGluc3RhbmNlb2YgRGF0ZSkgP1xuICAgICAgICAgICAgc291cmNlW2tleV0gaW5zdGFuY2VvZiBGb3JtQ29udHJvbCB8fCBzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIEZvcm1Hcm91cCB8fCBzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIEZvcm1BcnJheSA/XG4gICAgICAgICAgICAgIHNvdXJjZVtrZXldIDpcbiAgICAgICAgICAgICAgbWFrZUZvcm0oc291cmNlW2tleV0sIGtleXNWYWxpZGF0b3IsIGFzeW5jS2V5c1ZhbGlkYXRvciwgdHJ1ZSkgOlxuICAgICAgICAgICAgbmV3IEZvcm1Db250cm9sKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGtleXNWYWxpZGF0b3I/LmhhcyhrZXkpICYmICdkaXNhYmxlZCcgaW4ga2V5c1ZhbGlkYXRvci5nZXQoa2V5KSEgPyAoPEV4dGVuZGVkQ29udHJvbE9wdGlvbnM+a2V5c1ZhbGlkYXRvci5nZXQoa2V5KSkuZGlzYWJsZWQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogISFzb3VyY2Vba2V5XSAmJiB0eXBlb2Ygc291cmNlW2tleV0gPT0gJ3N0cmluZycgJiYgKHNvdXJjZVtrZXldLmluY2x1ZGVzKCcwMDAxLTAxLTAxJykgfHwgc291cmNlW2tleV0uaW5jbHVkZXMoJzE5NzAtMDEtMDEnKSkgPyBudWxsIDogc291cmNlW2tleV1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAga2V5c1ZhbGlkYXRvcj8uaGFzKGtleSkgPyBrZXlzVmFsaWRhdG9yLmdldChrZXkpIDogbnVsbCxcbiAgICAgICAgICAgICAgYXN5bmNLZXlzVmFsaWRhdG9yPy5oYXMoa2V5KSA/IGFzeW5jS2V5c1ZhbGlkYXRvci5nZXQoa2V5KSA6IG51bGwsXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH0sIG5ldyBGb3JtR3JvdXAoe30sXG4gICAgICBrZXlzVmFsaWRhdG9yPy5oYXMoJ21haW5Gb3JtVmFsaWRhdG9ycycpICYmICFpbnRlcm5hbCA/XG4gICAgICAgIGtleXNWYWxpZGF0b3IuZ2V0KCdtYWluRm9ybVZhbGlkYXRvcnMnKSA6XG4gICAgICAgIG51bGwsXG4gICAgICBhc3luY0tleXNWYWxpZGF0b3I/LmhhcygnbWFpbkZvcm1WYWxpZGF0b3JzJykgJiYgIWludGVybmFsID9cbiAgICAgICAgYXN5bmNLZXlzVmFsaWRhdG9yLmdldCgnbWFpbkZvcm1WYWxpZGF0b3JzJykgOlxuICAgICAgICBudWxsKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZvcm08VCBleHRlbmRzIEZvcm1Hcm91cCB8IEZvcm1BcnJheSB8IEZvcm1Db250cm9sID0gRm9ybUdyb3VwPihcbiAgc291cmNlOiBhbnksXG4gIGtleXNWYWxpZGF0b3I/OiBNYXA8c3RyaW5nLCBWYWxpZGF0b3JGbltdIHwgRXh0ZW5kZWRDb250cm9sT3B0aW9ucyB8IG51bGw+LFxuICBhc3luY0tleXNWYWxpZGF0b3I/OiBNYXA8c3RyaW5nLCBBc3luY1ZhbGlkYXRvckZuW10gfCBudWxsPixcbiAgaW50ZXJuYWw6IGJvb2xlYW4gPSBmYWxzZVxuKTogVCB7XG5cbiAgY29uc3QgZm9ybSA9ICEhc291cmNlICYmICh0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygc291cmNlID09PSAnZnVuY3Rpb24nKSA/XG4gICAgc291cmNlIGluc3RhbmNlb2YgQXJyYXkgP1xuICAgICAgbmV3IEZvcm1BcnJheShzb3VyY2UubWFwKGl0ZW0gPT4gbWFrZUZvcm0oaXRlbSwga2V5c1ZhbGlkYXRvciwgYXN5bmNLZXlzVmFsaWRhdG9yLCB0cnVlKSksXG4gICAgICAgIGtleXNWYWxpZGF0b3I/LmhhcygnbWFpbkZvcm1WYWxpZGF0b3JzJykgJiYgIWludGVybmFsID9cbiAgICAgICAgICBrZXlzVmFsaWRhdG9yLmdldCgnbWFpbkZvcm1WYWxpZGF0b3JzJykgOlxuICAgICAgICAgIG51bGwsXG4gICAgICAgIGFzeW5jS2V5c1ZhbGlkYXRvcj8uaGFzKCdtYWluRm9ybVZhbGlkYXRvcnMnKSAmJiAhaW50ZXJuYWwgP1xuICAgICAgICAgIGFzeW5jS2V5c1ZhbGlkYXRvci5nZXQoJ21haW5Gb3JtVmFsaWRhdG9ycycpIDpcbiAgICAgICAgICBudWxsXG4gICAgICApIDpcbiAgICAgIG1ha2VGb3JtR3JvdXAoc291cmNlLCBrZXlzVmFsaWRhdG9yLCBhc3luY0tleXNWYWxpZGF0b3IsIGludGVybmFsKSA6XG4gICAgbmV3IEZvcm1Db250cm9sKHtcbiAgICAgIGRpc2FibGVkOiBrZXlzVmFsaWRhdG9yPy5oYXMoJ21haW5Gb3JtVmFsaWRhdG9ycycpICYmICdkaXNhYmxlZCcgaW4gKGtleXNWYWxpZGF0b3IuZ2V0KCdtYWluRm9ybVZhbGlkYXRvcnMnKSEpID9cbiAgICAgICAgKDxFeHRlbmRlZENvbnRyb2xPcHRpb25zPmtleXNWYWxpZGF0b3IuZ2V0KCdtYWluRm9ybVZhbGlkYXRvcnMnKSkuZGlzYWJsZWQgOlxuICAgICAgICBmYWxzZSxcbiAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICB9LFxuICAgICAga2V5c1ZhbGlkYXRvcj8uaGFzKCdtYWluRm9ybVZhbGlkYXRvcnMnKSAmJiAhaW50ZXJuYWwgP1xuICAgICAgICBrZXlzVmFsaWRhdG9yLmdldCgnbWFpbkZvcm1WYWxpZGF0b3JzJykgOlxuICAgICAgICBudWxsLFxuICAgICAgYXN5bmNLZXlzVmFsaWRhdG9yPy5oYXMoJ21haW5Gb3JtVmFsaWRhdG9ycycpICYmICFpbnRlcm5hbCA/XG4gICAgICAgIGFzeW5jS2V5c1ZhbGlkYXRvci5nZXQoJ21haW5Gb3JtVmFsaWRhdG9ycycpIDpcbiAgICAgICAgbnVsbCk7XG4gIHJldHVybiA8VD5mb3JtXG59OyJdfQ==